{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Protocol Buffers 3",
    "scopeName": "source.protobuf3",
    "foldingStartMarker": "(\\{|\\[)\\s*$",
    "foldingStopMarker": "^\\s*(\\}|\\])\\s*$",
    "patterns": [
        {"include": "#comments"},
        {"include": "#imports"}
    ],
    "repository": {
        "comments": {
            "begin": "(^\\s+)?(?=#)",
            "beginCaptures": {
                "1": {
                    "name": "punctuation.whitespace.comment.leading.protobuf3"
                }
            },
            "end": "(?!\\G)",
            "endCaptures": {
                "1": {
                    "name": "punctuation.whitespace.comment.trailing.protobuf3"
                }
            },
            "patterns": [
                {
                    "begin": "#",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.comment.protobuf3"
                        }
                    },
                    "end": "$",
                    "name": "comment.line.number-sign.protobuf3"
                }
            ]
        },
        "imports": {
            "match": "(import) (\".*\")",
            "name": "meta.import.declaration.protobuf3",
            "captures": {
                "1": {
                    "name": "keyword.control.import.protobuf3"
                },
                "2": {
                    "name": "string.quoted.double.import.protobuf3"
                }
            }
        }
    }
}
